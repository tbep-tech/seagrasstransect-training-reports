--- 
title: '`r paste(params$yr, "transect training report:", params$grpnoyr)`'
format: 
  dashboard:
    embed-resources: true
    logo: images/tarponlogo.png
    nav-buttons: [github]
    css: styles.css
  
params:
  yr: yr
  grp: grp
  grpnoyr: grpnoyr
  transect: transect
  truvar: truvar
  grpscr: grpscr
  scrsum: scrsum
  
execute:
  echo: false
  warning: false
  message: false
---

```{r}
source(here::here('R/funcs.R'))
load(file = here::here('data/trndat.rda'))

yr <- params$yr
grp <- params$grp
grpnoyr <- params$grpnoyr
transect <- params$transect
truvar <- data.frame(params$truvar)
grpscr <- params$grpscr # do not make a data frame because names will be different
scrsum <- params$scrsum

evalgrp <- evalgrp_fun(trndat, yr, grp, truvar)

cards <- list(
  card_fun(evalgrp, grpscr, 'Abundance'), 
  card_fun(evalgrp, grpscr, 'Blade Length'), 
  card_fun(evalgrp, grpscr, 'Short Shoot Density')
)
```

## Row {height=50%}

### Column {.tabset}

```{r}
#| title: "Overall summary"
gt::html(scrsum)
```
  
```{r}
#| title: "Transect summary"
evaltrntab_fun(evalgrp)
```

## Row {height=50%}

```{r}
bslib::layout_column_wrap(width = '250px', fill = F, cards[[1]], cards[[2]], cards[[3]])
```
